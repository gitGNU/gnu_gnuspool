.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "GSPL-QCHANGE 1"
.TH GSPL-QCHANGE 1 "2009-02-17" "GNUspool Release 1" "GNUspool Print Manager"
.SH "NAME"
gspl\-qchange \- change spooled jobs
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBgspl-qchange\fR
[ \fI\-options\fR ]
\&\fIjob number\fR ...
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBgspl-qchange\fR makes changes to one or more \fBGNUspool\fR spooled jobs,
which may be on the local host or other hosts on the network. Jobs are
specified by the job number, which is reported by \fIgspl\-qlist\fR\|(1) in the
first column of the default output, or by \fIgspl\-pr\fR\|(1) or \fIgspl\-rpr\fR\|(1) when the
job is queued with the \fIverbose\fR option. Remote jobs are specified by
prefixing the job number by the host name and a colon, thus
\&\f(CW\*(C`host:1234\*(C'\fR. Leading zeroes in the job number may be omitted.
.PP
Each of the jobs must be owned by the user, or the user must have
permission to edit other user's jobs. The user must also have
permission to \fIedit remote jobs\fR to operate on remote jobs (this is
normally set for all users).
.PP
The changes are specified by options, which are as similar as possible
to those for \fIgspl\-pr\fR\|(1). It is regarded as a mistake not to specify at
least one option.
.SH "OPTIONS"
.IX Header "OPTIONS"
Note that the order of treatment, letters and keywords described below
may be modified by editing the file \fIrest.help\fR \-
see \fIspsyntax\fR\|(5).

The environment variable on which options are supplied is \f(CW\*(C`GSPL_QCHANGE\*(C'\fR
and the environment variable to specify the help file is
\&\f(CW\*(C`SPRESTCONF\*(C'\fR.
.IP "\-? or +explain" 4
.IX Item "-? or +explain"
causes a summary of the other options to be displayed without taking
further action.
.IP "\-a or +mail\-attention" 4
.IX Item "-a or +mail-attention"
requests that a message be sent in the mail to the user if a job is
awaiting attention, either because it reaches the top of the queue and
the required form type is currently unavailable or because the form
requires alignment.
.IP "\-A or +write\-attention" 4
.IX Item "-A or +write-attention"
requests that a message be sent to every terminal at which the user is
logged in, or by mail otherwise if the user is not logged in, if a job is
awaiting attention, either because it reaches the top of the queue and
the required form type is currently unavailable or because the form
requires alignment.
.IP "\-b or +noatt\-message" 4
.IX Item "-b or +noatt-message"
turns off any job attention messages previously requested.
.IP "\-c \fIn\fR or +copies \fIn\fR" 4
.IX Item "-c n or +copies n"
sets the number of copies to be printed to \fIn\fR.
.Sp
The maximum number of copies at a time may be restricted to a number
for each user such as 10. See the output from \fIgspl\-user\fR\|(1) for
information on the maximum number of copies. If the user has \fIset any
priority on queue\fR privilege, this limit is removed.
.IP "\-C \fInnnn\fR or +classcode \fInnnn\fR" 4
.IX Item "-C nnnn or +classcode nnnn"
may be used to set a class code narrow or expand the range of jobs
from which jobs are selected. It is probably only relevant where the
user has \fIoverride class\fR privilege and it is required to expand the
default class code to select additional jobs. \fBN.B.\fR This does not
\&\fIset\fR the classcode. Use \fB\-S\fR to set the classcode.
.IP "\-f \fIstring\fR or +formtype \fIstring\fR" 4
.IX Item "-f string or +formtype string"
specifies that the supplied form type (with optional suffix introduced
by "\f(CW\*(C`.\*(C'\fR\*(L" or \*(R"\f(CW\*(C`\-\*(C'\fR\*(L") is used. Note that not all users may be allowed to
select form types other some pattern, however only the \*(R"paper type",
i.e. the form type up to the suffix is considered when this
restriction is active, so the user can still change the form type
suffix if required. Note that there is no equivalent of the \fB\-i\fR
(interpolate) option to \fIgspl\-pr\fR\|(1).
.IP "\-F \fIstring\fR or +post\-proc\-flags \fIstring\fR" 4
.IX Item "-F string or +post-proc-flags string"
changes to the specified \fIstring\fR, the data to be passed as the value
of the environment variable \f(CW\*(C`SPOOLFLAGS\*(C'\fR to any program invoked at
the time the job is printed. This might be as a post-processing filter
command, or alternatively some shell command invoked as (for example)
a \f(CW\*(C`docstart\*(C'\fR string.
Please see the \fBGNUspool\fR Reference Manual for more details
of this.

.IP "\-h \fIstring\fR or +header \fIstring\fR" 4
.IX Item "-h string or +header string"
replace the title for each job with \fIstring\fR. The title appears on
the banner page, if this is printed.
.IP "\-l or +local\-only" 4
.IX Item "-l or +local-only"
in a networked environment requests that the job be printed only on
the printers local to the machine at which the job is submitted.
.IP "\-L or +network\-wide" 4
.IX Item "-L or +network-wide"
cancels the request that the job or jobs be printed only on printers
local to the machine at which the job is submitted.
.IP "\-m or +mail\-message" 4
.IX Item "-m or +mail-message"
requests a message to be sent in the mail to the user on completion or
termination of the job.
.IP "\-n \fInn\fR or +delay\-for \fInn\fR" 4
.IX Item "-n nn or +delay-for nn"
specifies that the job should be held on the queue for at least \fInn\fR
minutes from the current time before being printed. The time may
alternatively be specified as \fIhh:mm\fR or as \fIhh:mm:ss\fR, specifying a
delay in hours and minutes, or hours, minutes and seconds. Specify
zero to cancel this.
.IP "\-N \fItime\fR or +delay\-until \fItime\fR" 4
.IX Item "-N time or +delay-until time"
is an alternative to the \fB\-n\fR\fInn\fR option to specify the earliest
time at which the job is to be printed. The argument may be \fIhh:mm\fR
or \fIhh:mm:ss\fR to give the time of day in 24\-hour clock notation. If
the time has passed, then tomorrow is assumed.
.Sp
Alternatively a date and a comma may be prefixed to the time in the
form \fImm/dd\fR or \fIdd/mm\fR depending upon the local convention for date
format used. Thus the resulting argument might be
.Sp
.Vb 1
\&        10/11,12:30
.Ve
.IP "\-O \fIflag\fR or +odd\-even\-flags \fIflag\fR" 4
.IX Item "-O flag or +odd-even-flags flag"
where \fIflag\fR is one of \fBO\fR, \fBE\fR, \fBA\fR, \fBB\fR or \fB\-\fR cause odd or even-numbered pages to be
skipped.
.Sp
\&\fBO\fR causes odd-numbered pages not to be printed.
.Sp
\&\fBE\fR causes even-numbered pages not to be printed.
.Sp
\&\fBA\fR and \fBB\fR are useful if more than one copy is to be printed.
.Sp
\&\fBA\fR causes even-numbered pages not to be printed on odd-numbered
copies, and odd-numbered pages not to be printed on even-numbered
copies.
.Sp
\&\fBB\fR is the other way around.
.Sp
If you do not understand this, all you have to do is remember that
.Sp
.Vb 1
\&        gspl-qchange -c2 -OA ....
.Ve
.Sp
prints all the odd-numbered pages followed by all the even-numbered
ones.
.IP "\-p \fIn\fR or +priority \fIn\fR" 4
.IX Item "-p n or +priority n"
specifies the priority of the job, between 1 (lowest) and 255
(highest) or some narrower range to which the user is limited, unless
he or she has the \fIany priority on queue\fR privilege.
.Sp
A user must have the \fIchange priority on queue\fR privilege to invoke
this option.
.IP "\-P \fIname\fR or +printer \fIname\fR" 4
.IX Item "-P name or +printer name"
specify \fIname\fR as the destination printer for the job. \fIname\fR may be
a pattern to select any printer matching the pattern, or \fB\-\fR to
cancel the selection and make it the first available printer.
.Sp
A user may be limited to a range of printers which must be a superset
of \fIname\fR.
.IP "\-q or +retain" 4
.IX Item "-q or +retain"
requests that the job or jobs be retained on the queue with copies set
to zero after printing, for explicit deletion, or automatically at the
expiry of the timeout (as set by the \fB\-t\fR\fIn\fR option).
.IP "\-r or +banner" 4
.IX Item "-r or +banner"
restores banner pages previously suppressed using \fB\-s\fR.
.Sp
Note that some form types may be set up never to use banners
regardless of this option.
.IP "\-R \fIm\-n\fRor +page\-range \fIm\-n\fR" 4
.IX Item "-R m-nor +page-range m-n"
specifies that pages \fIm\fR through to \fIn\fR inclusive are to be
printed. This does of course assume that the job has recognisable
pages. If \fIm\fR or \fIn\fR are omitted, then \*(L"the beginning\*(R" or \*(L"the end\*(R"
respectively is assumed.
.IP "\-s or +no\-banner" 4
.IX Item "-s or +no-banner"
suppresses any banner page (large letter user name etc) which is
printed before the job itself.
.Sp
Note that some form types may be set up always to print banners
regardless of this option.
.IP "\-S \fInnnn\fR or +set\-classcode \fInnnn\fR" 4
.IX Item "-S nnnn or +set-classcode nnnn"
where \fInnnn\fR is some collection of the letters \fBA\fR through to \fBP\fR
inclusive (upper or lower case) with \fB\-\fR to indicate ranges, requests
that the job be given the specified \fIclass code\fR.
.Sp
The class code of a job may restrict which printers the job may be
printed on, or which other users can display details of the job.
.Sp
In normal circumstances (except where the user has \fIoverride class\fR
privilege as displayed by \fIgspl\-user\fR\|(1)), the specified class code is
reduced to the intersection of (i.e. \fIand\fRed with) the specified
class code and the user's own class code.
.IP "\-t \fIn\fR or +printed\-timeout \fIn\fR" 4
.IX Item "-t n or +printed-timeout n"
specifies that if retained on the queue the job will be deleted
automatically after \fIn\fR hours. The default value is 24 hours, and the
maximum value is 32767 hours (nearly 4 years).
.IP "\-T \fIn\fR or +not\-printed\-timeout \fIn\fR" 4
.IX Item "-T n or +not-printed-timeout n"
specifies that if held on the queue without being printed, the job will
be deleted automatically after \fIn\fR hours. The default value is 168
hours (1 week), and the maximum value is 32767 hours (nearly 4 years).
.IP "\-u \fIname\fR or +post\-user \fIname\fR" 4
.IX Item "-u name or +post-user name"
requests that the specified user name be substituted for the
submitting user on the banner page optionally printed at the start of
the job. The job still remains the responsibility of the submitting
user.
.Sp
To \*(L"turn off\*(R" a user name specified in a previous \fB\-u\fR\fIname\fR option,
put a single \fB\-\fR sign as the user name.
.IP "\-w or +write\-message" 4
.IX Item "-w or +write-message"
requests a message to be sent to every terminal at which the user is
logged in, or by mail otherwise if the user is not logged in, when the
job is completed or terminated.
.IP "\-x or +no\-message" 4
.IX Item "-x or +no-message"
turns off any job completion messages (\fB\-m\fR or \fB\-w\fR previously requested.
.IP "\-z or +no\-retain" 4
.IX Item "-z or +no-retain"
cancels a request that the job or jobs be retained on the queue after
printing.
.IP "+freeze\-current" 4
.IX Item "+freeze-current"
Save all the current options in a \fI.gnuspool\fR file in the current
directory. If there are no jobs given to operate on and this is
specified, then \fBgspl-qchange\fR will quit without error. If it is unable
to save the options and jobs are specified, then \fBgspl-qchange\fR will
continue.
.IP "+freeze\-home" 4
.IX Item "+freeze-home"
Save all the current options in a \fI.gnuspool\fR file in the user's home
directory. If there are no jobs given to operate on and this is
specified, then \fBgspl-qchange\fR will quit without error. If it is unable
to save the options and jobs are specified, then \fBgspl-qchange\fR will
continue.
.SH "FILES"
.IX Header "FILES"
\&\fI~/.gnuspool\fR
configuration file (home directory)
.PP
\&\fI .gnuspool\fR
configuration file (current directory)
.PP
\&\fIrest.help\fR
message file
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
.IP "\s-1GSPL_QCHANGE\s0" 4
.IX Item "GSPL_QCHANGE"
space-separated options to override defaults.
.IP "\s-1SPRESTCONF\s0" 4
.IX Item "SPRESTCONF"
location of alternative help file.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIgspl\-rpr\fR\|(1),
\&\fIgspl\-pr\fR\|(1),
\&\fIgspl\-pq\fR\|(1),
\&\fIgspl\-qdel\fR\|(1),
\&\fIgspl\-qlist\fR\|(1),
\&\fIspsyntax\fR\|(5),
\&\fIgnuspool.conf\fR\|(5),
\&\fIgnuspool.hosts\fR\|(5).
.SH "DIAGNOSTICS"
.IX Header "DIAGNOSTICS"
Various diagnostics are read and printed as required from the message
file, by default \fIrest.help\fR.
.SH "NOTES"
.IX Header "NOTES"
The \fB\-C\fR option selects the class code for finding the jobs; if you
have \fIoverride class\fR privilege, but your default class code does not
allow the jobs \*(L"to be seen\*(R" in the output of \fIgspl\-qlist\fR\|(1), then you may
need to specify this. The \fB\-S\fR option sets a new classcode, which may
be \fIand\fRed with your default class if you do not have \fIoverride
class\fR privilege.
.PP
Any errors are reported with appropriate messages on standard
error. If any errors are detected operating on several jobs, the exit
code will correspond to the last such error displayed.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
To change the number of copies of job 24139 to 3
.PP
.Vb 1
\&        gspl-qchange -c3 14139
.Ve
.PP
To changed the formtype to a4.ps for 3 jobs including one on a remote
machine, \f(CW\*(C`avon\*(C'\fR
.PP
.Vb 1
\&        gspl-qchange -f a4.ps 24139 26921 avon:21941
.Ve
.PP
Changing all the jobs associated with printer \f(CW\*(C`laser\*(C'\fR to come out on
printer \f(CW\*(C`ljet\*(C'\fR may be done with a shell script like this:
.PP
.Vb 4
\&        gspl-qlist -F "%N %P" | grep laser | while read JOB REST
\&        do
\&                gspl-qchange -P ljet $JOB
\&        done
.Ve
.PP
Or you can do it in one operation with this \*(L"one\-liner\*(R":
.PP
.Vb 1
\&        gspl-qchange -Pljet `gspl-qlist -F"%N %P"|grep laser|sed 's/\e(.*\e) .*/\e1/'`
.Ve
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (c) 2009 Free Software Foundation, Inc.
This is free software. You may redistribute copies of it under the
terms of the \s-1GNU\s0 General Public License
<http://www.gnu.org/licenses/gpl.html>.
There is \s-1NO\s0 \s-1WARRANTY\s0, to the extent permitted by law.
.SH "AUTHOR"
.IX Header "AUTHOR"
John M Collins, Xi Software Ltd.
