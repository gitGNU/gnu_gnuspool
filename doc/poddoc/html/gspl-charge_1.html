<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>gspl-charge - display/update user charges</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#files">FILES</a></li>
	<li><a href="#environment">ENVIRONMENT</a></li>
	<li><a href="#notes">NOTES</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#diagnostics">DIAGNOSTICS</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
-->
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>gspl-charge - display/update user charges</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>gspl-charge</strong>
[ <em>-options</em> ]
[ user ] ...</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p><strong>gspl-charge</strong> displays and/or updates the charges recorded by
<strong>GNUspool</strong> against various users specified on the command line, or
all users if none are specified.</p>
<p>It is only available to users with the <em>Edit admin file</em> privilege.</p>
<p>Charges relate to jobs which have originated on the machine on which
<em>gspl-charge</em> was invoked. The actual charging rate is determined by the
machine on which the job is printed.</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<p>The environment variable on which options are supplied is <code>GSPL_CHARGE</code> and the
environment variable to specify the help file is <code>SPRESTCONF</code>.</p>
<dl>
<dt><strong><a name="item__2d_3f_or__2bexplain">-? or +explain</a></strong>

<dd>
<p>causes a summary of the other options to be displayed without taking
further action.</p>
</dd>
</li>
<dt><strong><a name="item__2dc_or__2bconsolidate">-C or +consolidate</a></strong>

<dd>
<p>causes a consolidation record to be written for each user mentioned in
the file, which summarises the charges to date for each user. The
records remain in the file, this creating a current balance of account
record to save processing entries in the accounts file.</p>
</dd>
</li>
<dt><strong><a name="item__2dc_fee_or__2badd_2dcharge_fee">-c <em>fee</em> or +add-charge <em>fee</em></a></strong>

<dd>
<p>causes the specified <em>fee</em> to be added to the charge for the
specified user or users, or all users if none are given.</p>
</dd>
<dd>
<p>If combined with a print option (<strong>-p</strong> or <strong>-P</strong>), the print is done
after the charge is applied.</p>
</dd>
</li>
<dt><strong><a name="item__2dk_or__2bcancel_2dflags">-K or +cancel-flags</a></strong>

<dd>
<p>Cancels all previously-set options <strong>-p</strong>, <strong>-P</strong>, <strong>-z</strong>, <strong>-C</strong> and
<strong>-R</strong>. Useful if you want to start again from some indeterminate state
in a configuration file.</p>
</dd>
</li>
<dt><strong><a name="item__2dp_or__2bprint_2dfull">-P or +print-full</a></strong>

<dd>
<p>causes the full log of charges for the specified user or users, or all
users if none are given, to be displayed on standard output.</p>
</dd>
</li>
<dt><strong><a name="item__2dp_or__2bprint_2dusers">-p or +print-users</a></strong>

<dd>
<p>(the default if no other options are specified) causes the charge
summary for the specified user or users, or all users if none are
given, to be displayed on standard output.</p>
</dd>
</li>
<dt><strong><a name="item__2dr_or__2breset_2dfile">-R or +reset-file</a></strong>

<dd>
<p>causes all records to be deleted from the file except for
consolidation records for each user with a non-zero charge. If the
charge for each user is zero (as a result of applying the <strong>-z</strong> option
perhaps), then the file will be left empty.</p>
</dd>
<dd>
<p>Note that the spool scheduler <code>spshed(8)</code> should not be running when
this option is invoked.</p>
</dd>
</li>
<dt><strong><a name="item__2dz_or__2bzero_2dcharge">-z or +zero-charge</a></strong>

<dd>
<p>clears to zero the charges for the specified user or users, or all
users if none are given. This is done by appending an appropriate
record or records to the charge file, the previous information (as
displayed by <strong>-P</strong> will still be available.</p>
</dd>
<dd>
<p>If combined with a print option (<strong>-p</strong> or <strong>-P</strong>), the print is done
before the option is applied.</p>
</dd>
</li>
<dt><strong><a name="item__2bfreeze_2dcurrent">+freeze-current</a></strong>

<dd>
<p>Save all the current options in a <em>.gnuspool</em> file in the current
directory.</p>
</dd>
</li>
<dt><strong><a name="item__2bfreeze_2dhome">+freeze-home</a></strong>

<dd>
<p>Save all the current options in a <em>.gnuspool</em> file in the user's home
directory.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="files">FILES</a></h1>
<p><em>~/.gnuspool</em>
configuration file (home directory)</p>
<p><em> .gnuspool</em>
configuration file (current directory)</p>
<p><em>rest.help</em>
message file</p>
<p>
</p>
<hr />
<h1><a name="environment">ENVIRONMENT</a></h1>
<dl>
<dt><strong><a name="item_gspl_2dcharge">GSPL-CHARGE</a></strong>

<dd>
<p>space-separated options to override defaults.</p>
</dd>
</li>
<dt><strong><a name="item_restconf">RESTCONF</a></strong>

<dd>
<p>location of alternative help file.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="notes">NOTES</a></h1>
<p>It is intended to deprecate this in the next release.</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>gspl-user(1),
spsyntax(5),
gnuspool.conf(5),
gnuspool.hosts(5).</p>
<p>
</p>
<hr />
<h1><a name="diagnostics">DIAGNOSTICS</a></h1>
<p>Various diagnostics are read and printed as required from the message
file, by default <em>rest.help</em>.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>John M Collins, Xi Software Ltd.</p>

</body>

</html>
