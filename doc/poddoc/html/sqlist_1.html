<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>sqlist - display job queue</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<ul>

		<li><a href="#patterns">Patterns</a></li>
		<li><a href="#format_codes">Format codes</a></li>
	</ul>

	<li><a href="#files">FILES</a></li>
	<li><a href="#environment">ENVIRONMENT</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#diagnostics">DIAGNOSTICS</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
-->
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>sqlist - display job queue</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>sqlist</strong>
[ <em>-options</em> ]
[ <em>job number</em> ... ]</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p><strong>sqlist</strong> outputs a table on standard output showing jobs on the
<strong>GNUspool</strong> spool queue, including those queued on other hosts on the
network.</p>
<p>Each line of the output corresponds to a single job, and by default
the output is generally similar to the default format of the jobs
screen of the <code>spq(1)</code> command, something like:</p>
<pre>
 0024139     jmc report1 a4      23K 1 150
 0026921     jmc prgm.c  listing 12K 1 150
 red:0021941 pbt report  a4.lh   17K 2 150</pre>
<p>The first field on each line is the numeric <em>job number</em>, preceded
by a host name and a colon if on a remote machine.</p>
<p>Various options described below enable the user to control the output
in various ways. The job data itself may also be extracted.</p>
<p>To limit the output to information about a given job or jobs, job numbers may be
placed on the command line.</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<p>The environment variable on which options are supplied is <a href="#item_sqlist"><code>SQLIST</code></a>
and the environment variable to specify the help file is
<a href="#item_sprestconf"><code>SPRESTCONF</code></a>.</p>
<dl>
<dt><strong><a name="item__2d_3f_or__2bexplain">-? or +explain</a></strong>

<dd>
<p>causes a summary of the other options to be displayed without taking
further action.</p>
</dd>
</li>
<dt><strong><a name="item__2dc_nnnn_or__2bclasscode_nnnn">-C <em>nnnn</em> or +classcode <em>nnnn</em></a></strong>

<dd>
<p>restricts attention to jobs matching the class code given. This may be
reduced further by the user's class code unless he/she has <em>override
class</em> privilege.</p>
</dd>
</li>
<dt><strong><a name="item__2dd_or__2bdefault_2dformat">-D or +default-format</a></strong>

<dd>
<p>cancel a <strong>-F</strong> option and restore the default format.</p>
</dd>
</li>
<dt><strong><a name="item__2de_or__2bno_2dpage_2dcounts">-e or +no-page-counts</a></strong>

<dd>
<p>do not try to represent page numbers and counts on the output (this
only affects the default format).</p>
</dd>
</li>
<dt><strong><a name="item__2de_or__2bpage_2dcounts">-E or +page-counts</a></strong>

<dd>
<p>do try to represent page numbers and counts on the output (this only
affects the default format).</p>
</dd>
</li>
<dt><strong><a name="item__2df_string_or__2bformat_string">-F <em>string</em> or +format <em>string</em></a></strong>

<dd>
<p>Specify user defined output format. The	<em>string</em> argument contains
characters to be printed and symbols representing the required data
fields. This option overrides and preceding <strong>-D</strong> option, and is
itself overridden by a following <strong>-D</strong> option.</p>
</dd>
<P>See <a href="#Sqlist_format">the section on format codes</a> for
details of the format code sequences.</P></li>
<dt><strong><a name="item__2dh_or__2bheader">-H or +header</a></strong>

<dd>
<p>generate a header for each column of the output according to the field
displayed there. The headers are taken from the message file, by
default <em>rest.help</em>, which may be adjusted as
required.</p>
</dd>
</li>
<dt><strong><a name="item__2dl_or__2blocal_2donly">-l or +local-only</a></strong>

<dd>
<p>display only jobs local to the current host.</p>
</dd>
</li>
<dt><strong><a name="item__2dn_or__2bno_2dheader">-N or +no-header</a></strong>

<dd>
<p>cancel the <strong>-H</strong> option.</p>
</dd>
</li>
<dt><strong><a name="item__2dn_or__2bno_2dview_2djob">-n or +no-view-job</a></strong>

<dd>
<p>cancel the <strong>-V</strong> option.</p>
</dd>
</li>
<dt><strong><a name="item__2dp_range_or__2bview_2dpages_range">-P <em>range</em> or +view-pages <em>range</em></a></strong>

<dd>
<p>with the <strong>-V</strong> option, specify a range of pages to output.</p>
</dd>
<dd>
<p>A range may consist of single page numbers or subranges separated by
commas, thus:</p>
</dd>
<dd>
<pre>
        -V -P 1
        -V -P 1,3,4-9
        -V -P 2-7,12-</pre>
</dd>
<dd>
<p>such arguments would respectively select page 1, pages 1, 3 and 4 to 9
and pages 2 to 7 and 12 to the end. Omitted numbers either side of the
<strong>-</strong> denote ``the beginning'' and ``the end''.</p>
</dd>
</li>
<dt><strong><a name="item__2dp_or__2bprinted_2djobs">-p or +printed-jobs</a></strong>

<dd>
<p>restricts attention to jobs which have been printed.</p>
</dd>
</li>
<dt><strong><a name="item__2dq_name_or__2blist_2donly_name">-q <em>name</em> or +list-only <em>name</em></a></strong>

<dd>
<p>List only jobs for, or which could be printed on the specified subset
of printers. The set of printers may contain just one name, a list of
names or a list of patters for matching printer names. Shell-like
pattern matching applies to the pattern. You may well need to put
quotes around the pattern to avoid misinterpretation by the shell.</p>
</dd>
<P>This is further described in the <a href="#Sqlist_pattern">pattern
arguments</a> section.</P><p>To cancel this argument, give a single <strong>-</strong> sign as an argument.</p>
</li>
<dt><strong><a name="item__2dr_or__2bremotes">-r or +remotes</a></strong>

<dd>
<p>display jobs local to the current host and connected hosts.</p>
</dd>
</li>
<dt><strong><a name="item__2dt_string_or__2bjust_2dtitle_string_2e">-t <em>string</em> or +just-title <em>string</em>.</a></strong>

<dd>
<p>restricts attention to jobs whose title matches the pattern given.</p>
</dd>
<P>The pattern is further described in the <a href="#Sqlist_pattern">pattern
arguments</a> section.</P></li>
<dt><strong><a name="item__2du_user_or__2bjust_2duser_user">-u <em>user</em> or +just-user <em>user</em></a></strong>

<dd>
<p>restricts attention to jobs owned by the given user or list of users
given by a pattern.</p>
</dd>
<P>The pattern is further described in the <a href="#Sqlist_pattern">pattern
arguments</a> section.</P></li>
<dt><strong><a name="item__2dv_or__2bview_2djob">-V or +view-job</a></strong>

<dd>
<p>cancel the job listing output and send the text of the job or jobs to
standard output.</p>
</dd>
</li>
<dt><strong><a name="item__2dy_or__2ball_2djobs">-Y or +all-jobs</a></strong>

<dd>
<p>displays all jobs, canceling <strong>-y</strong> or <strong>-p</strong>.</p>
</dd>
</li>
<dt><strong><a name="item__2dy_or__2bunprinted_2djobs">-y or +unprinted-jobs</a></strong>

<dd>
<p>restricts attention to jobs which have not been printed.</p>
</dd>
</li>
<dt><strong><a name="item__2dz_or__2binclude_2dnull">-z or +include-null</a></strong>

<dd>
<p>when listing jobs restricted by a <strong>-q</strong> argument, include jobs with no
destination printer.</p>
</dd>
</li>
<dt><strong><a name="item__2dz_or__2bno_2dinclude_2dnull">-Z or +no-include-null</a></strong>

<dd>
<p>when listing jobs and printers restricted by a <strong>-q</strong> argument, do not
include jobs without a destination printer.</p>
</dd>
</li>
<dt><strong><a name="item__2bfreeze_2dcurrent">+freeze-current</a></strong>

<dd>
<p>Save all the current options in a <em>.gnuspool</em> file in the current
directory.</p>
</dd>
</li>
<dt><strong><a name="item__2bfreeze_2dhome">+freeze-home</a></strong>

<dd>
<p>Save all the current options in a <em>.gnuspool</em> file in the user's home
directory.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="patterns">Patterns</a></h2>
<a name="Sqlist_pattern"></a><p>The <strong>-q</strong>, <strong>-t</strong> and <strong>-u</strong> options may all be given a name, a
comma-separated list of names or shell-like wildcard patterns. The
patterns all take the standard form:</p>
<div style="margin-left:1.0in;">
<table border=0 cellspacing=1 cellpadding=1 summary="wild cards">
<tr>
<td><span class=FileName>*</span></td>
<td>matches anything</td>
</tr>
<tr>
<td><span class=FileName>?</span></td>
<td>matches a single character</td>
</tr>
<tr>
<td><span class=FileName>[a-mp-ru]</span></td>
<td>matches any one character in the range of characters given</td>
</tr>
<tr>
<td><span class=FileName>[!n-z9]</span></td>
<td>matches any one character not in the range of characters
given</td>
</tr>
</table>
</div><p>Be careful to enclose these sequences in quotes in case the shell
misinterprets them.</p>
<p>For example</p>
<pre>
        sqlist -q ljet,ptr3
        sqlist -q 'ptr*,lp[1-9]'
        sqlist -u 'j*'
        sqlist -t 'Acc*'</pre>
<p>
</p>
<h2><a name="format_codes">Format codes</a></h2>
<a name="Sqlist_format"></a><p>The format string consists of a string containing the following
character sequences, which are replaced by the corresponding job
parameters. The string may contain various other printing characters
or spaces as required.</p>
<p>Each column is padded, usually on the right, to the length of the
longest entry. If a header is requested, the appropriate abbreviation
is obtained from the message file and inserted.</p>
<dl>
<dt><strong><a name="item___">%%</a></strong>

<dd>
<p>insert a single <code>%</code> sign</p>
</dd>
</li>
<dt><strong><a name="item__a">%A</a></strong>

<dd>
<p><code>wattn</code> if the write attention message flag is set.</p>
</dd>
</li>
<dt><strong><a name="item__a">%a</a></strong>

<dd>
<p><code>mattn</code> if the mail attention message flag is set.</p>
</dd>
</li>
<dt><strong><a name="item__c">%C</a></strong>

<dd>
<p>class code</p>
</dd>
</li>
<dt><strong><a name="item__c">%c</a></strong>

<dd>
<p>copies (right-justified)</p>
</dd>
</li>
<dt><strong><a name="item__d">%D</a></strong>

<dd>
<p>page delimiter</p>
</dd>
</li>
<dt><strong><a name="item__d">%d</a></strong>

<dd>
<p>delimiter number</p>
</dd>
</li>
<dt><strong><a name="item__f">%F</a></strong>

<dd>
<p>post-processing flags</p>
</dd>
</li>
<dt><strong><a name="item__f">%f</a></strong>

<dd>
<p>form type</p>
</dd>
</li>
<dt><strong><a name="item__g">%G</a></strong>

<dd>
<p>``halted at'' page number.</p>
</dd>
</li>
<dt><strong><a name="item__h">%H</a></strong>

<dd>
<p>hold time</p>
</dd>
</li>
<dt><strong><a name="item__h">%h</a></strong>

<dd>
<p>job title.</p>
</dd>
</li>
<dt><strong><a name="item__k">%K</a></strong>

<dd>
<p>size of job in bytes</p>
</dd>
</li>
<dt><strong><a name="item__l">%L</a></strong>

<dd>
<p>position reached in bytes.</p>
</dd>
</li>
<dt><strong><a name="item__l">%l</a></strong>

<dd>
<p><code>local</code> if local job only</p>
</dd>
</li>
<dt><strong><a name="item__m">%m</a></strong>

<dd>
<p><code>mail</code> if mail completion flag set.</p>
</dd>
</li>
<dt><strong><a name="item__n">%N</a></strong>

<dd>
<p>job number, prefixed by host name if remote.</p>
</dd>
</li>
<dt><strong><a name="item__o">%O</a></strong>

<dd>
<p>odd/even/swap flags.</p>
</dd>
</li>
<dt><strong><a name="item__o">%o</a></strong>

<dd>
<p>originating host (might be different if via rspr(1)).</p>
</dd>
</li>
<dt><strong><a name="item__p">%P</a></strong>

<dd>
<p>printer destination</p>
</dd>
</li>
<dt><strong><a name="item__p">%p</a></strong>

<dd>
<p>priority.</p>
</dd>
</li>
<dt><strong><a name="item__q">%Q</a></strong>

<dd>
<p>page reached.</p>
</dd>
</li>
<dt><strong><a name="item__q">%q</a></strong>

<dd>
<p><code>retain</code> if retained on queue.</p>
</dd>
</li>
<dt><strong><a name="item__r">%R</a></strong>

<dd>
<p>page range.</p>
</dd>
</li>
<dt><strong><a name="item__s">%S</a></strong>

<dd>
<p>size in pages.</p>
</dd>
</li>
<dt><strong><a name="item__s">%s</a></strong>

<dd>
<p><code>nohdr</code> if header suppressed.</p>
</dd>
</li>
<dt><strong><a name="item__t">%T</a></strong>

<dd>
<p>delete time if not printed.</p>
</dd>
</li>
<dt><strong><a name="item__t">%t</a></strong>

<dd>
<p>delete time if printed.</p>
</dd>
</li>
<dt><strong><a name="item__u">%U</a></strong>

<dd>
<p>user name to be posted to.</p>
</dd>
</li>
<dt><strong><a name="item__u">%u</a></strong>

<dd>
<p>user name owned by</p>
</dd>
</li>
<dt><strong><a name="item__w">%W</a></strong>

<dd>
<p>submission or start time.</p>
</dd>
</li>
<dt><strong><a name="item__w">%w</a></strong>

<dd>
<p><code>write</code> if write completion message flag set.</p>
</dd>
</li>
</dl>
<p>Note that the various strings such as <strong>nohdr</strong> etc are read from the
message file also, so it is possible to modify them as required by the
user.</p>
<p>The default format is</p>
<pre>
        %N %u %h %f %Q %S %c %p %P</pre>
<p>with the (default) <strong>-E</strong> option and</p>
<pre>
        %N %u %h %f %L %K %c %p %P</pre>
<p>with the <strong>-e</strong> option.</p>
<p>
</p>
<hr />
<h1><a name="files">FILES</a></h1>
<p><em>~/.gnuspool</em>
configuration file (home directory)</p>
<p><em> .gnuspool</em>
configuration file (current directory)</p>
<p><em>rest.help</em>
message file</p>
<p>
</p>
<hr />
<h1><a name="environment">ENVIRONMENT</a></h1>
<dl>
<dt><strong><a name="item_sqlist">SQLIST</a></strong>

<dd>
<p>space-separated options to override defaults.</p>
</dd>
</li>
<dt><strong><a name="item_sprestconf">SPRESTCONF</a></strong>

<dd>
<p>location of alternative help file.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>splist(1),
spq(1),
sqchange(1),
sqdel(1),
spsyntax(5),
gnuspool.conf(5),
gnuspool.hosts(5).</p>
<p>
</p>
<hr />
<h1><a name="diagnostics">DIAGNOSTICS</a></h1>
<p>Various diagnostics are read and printed as required from the message
file, by default <em>rest.help</em>.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>John M Collins, Xi Software Ltd.</p>

</body>

</html>
