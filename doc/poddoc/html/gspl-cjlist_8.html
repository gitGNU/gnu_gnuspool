<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>gspl-cjlist - dump out GNUspool jobs to directory</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>

-->


</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>gspl-cjlist - dump out GNUspool jobs to directory</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>gspl-cjlist</strong>
[ <em>-D dir</em> ]
[ <em>-e n</em> ]
[ <em>-u</em> ]
[ <em>-s</em> ]
[ <em>-f</em> ]
[ <em>-m</em> ]
<em>job file</em> <em>outfile</em> <em>workdir</em></p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p><strong>gspl-cjlist</strong> converts <strong>GNUspool</strong> job files held in the spool directory to
an executable shell script which may be used to recreate them. This
may be useful for backup purposes or for one stage in upgrading from one
release of <strong>GNUspool</strong> to another.</p>
<p>The jobs are copied into the backup directory <em>workdir</em>, and the
generated shell script file <em>outfile</em> refers to files in that
directory.</p>
<p><strong>gspl-cjlist</strong> will, if required, skip apparent errors in the job file.</p>
<p>In addition to options, three arguments are always supplied to
<strong>gspl-cjlist</strong>.</p>
<dl>
<dt><strong><a name="job_list_file" class="item">Job list file</a></strong></dt>

<dd>
<p>This is the file containing the attributes of the jobs,
<em class="file">spshed_jfile</em> in the spool directory, by default,
or as relocated by re-specifying <code>SPOOLDIR</code>.</p>
</dd>
<dt><strong><a name="output_file" class="item">Output file</a></strong></dt>

<dd>
<p>This file is created by <strong>gspl-cjlist</strong> to contain the executable shell
script which may be used to create the jobs.</p>
</dd>
<dt><strong><a name="backup_directory" class="item">Backup directory</a></strong></dt>

<dd>
<p>This directory is used to hold the job data.</p>
</dd>
</dl>
<p>Note that saved jobs make use of the <strong>-U</strong> option to gspl-pr(1) to set the
ownership correctly but do not attempt to use the <strong>-E</strong> and <strong>-o</strong>
options to set external queue or originating hosts.</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<dl>
<dt><strong><a name="d_directory" class="item">-D <em>directory</em></a></strong></dt>

<dd>
<p>specifies the source directory for the jobs and <em>job file</em> rather
than the current directory. It can be specified as <code>$SPOOLDIR</code> or
<code>${SPOOLDIR-/var/spool/gnuspool}</code> etc and the environment and/or
<em class="file">gnuspool.conf</em> will be interrogated to interpolate the value of
the environment variable given.</p>
<p>If you use this, don't forget to put single quotes around it thus:</p>
<pre>
 gspl-cjlist -D '${SPOOLDIR-/var/spool/gnuspool}' ...</pre>
<p>otherwise the shell will try to interpret the <code>$</code> constructs and not
<strong>gspl-cjlist</strong>.</p>
</dd>
<dt><strong><a name="e_n" class="item">-e <em>n</em></a></strong></dt>

<dd>
<p>Tolerate <em>n</em> errors of the kinds denoted by the other options before
giving up trying to convert the file.</p>
</dd>
<dt><strong><a name="f" class="item">-f</a></strong></dt>

<dd>
<p>Ignore format errors (invalid form types etc) in the saved job file up
to the limit of errors given by the <strong>-e</strong> option.</p>
</dd>
<dt><strong><a name="m" class="item">-m</a></strong></dt>

<dd>
<p>Create &quot;missing&quot; dummy jobs where the <em>job file</em> refers to jobs not in the
saved directory.</p>
</dd>
<dt><strong><a name="s" class="item">-s</a></strong></dt>

<dd>
<p>Ignore file size errors in the saved job file (up to the number of
total errors given by the <strong>-e</strong> option).</p>
</dd>
<dt><strong><a name="u" class="item">-u</a></strong></dt>

<dd>
<p>Do not reject the save job file if it contains invalid  user names.</p>
<p>This may be necessary where the job file is corrupted and <strong>gspl-cjlist</strong>
cannot work out which version it is.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>gspl-cplist(8),
gspl-setspdir(8),
gspl-spuconv(8).</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright (c) 2009 Free Software Foundation, Inc.
This is free software. You may redistribute copies of it under the
terms of the GNU General Public License
&lt;http://www.gnu.org/licenses/gpl.html&gt;.
There is NO WARRANTY, to the extent permitted by law.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>John M Collins, Xi Software Ltd.</p>

</body>

</html>
